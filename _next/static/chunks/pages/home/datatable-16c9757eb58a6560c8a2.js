_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[11],{Lnxd:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("q1tI"),r=a.n(n),c={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=r.a.createContext&&r.a.createContext(c),s=function(){return(s=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},l=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};function o(e){return function(t){return r.a.createElement(b,s({attr:s({},e.attr)},t),function e(t){return t&&t.map((function(t,a){return r.a.createElement(t.tag,s({key:a},t.attr),e(t.child))}))}(e.child))}}function b(e){var t=function(t){var a,n=e.attr,c=e.size,i=e.title,o=l(e,["attr","size","title"]),b=c||t.size||"1em";return t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className),r.a.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,o,{className:a,style:s(s({color:e.color||t.color},t.style),e.style),height:b,width:b,xmlns:"http://www.w3.org/2000/svg"}),i&&r.a.createElement("title",null,i),e.children)};return void 0!==i?r.a.createElement(i.Consumer,null,(function(e){return t(e)})):t(c)}},jrM3:function(e,t,a){e.exports={tableComponent:"DataTable_tableComponent__RVpbW",tableTitle:"DataTable_tableTitle__3kmhf",tableControlsContainer:"DataTable_tableControlsContainer__1LVyt",searchContainer:"DataTable_searchContainer__3Kdos",searchInput:"DataTable_searchInput__2ChmS",tableSettings:"DataTable_tableSettings__3LZLz",paginationContainer:"DataTable_paginationContainer__2E6CS",pagination:"DataTable_pagination__ViOJN",deactive:"DataTable_deactive__2DeR_",tableContainer:"DataTable_tableContainer__1-Z-j",showSettings:"DataTable_showSettings__3-QgD",settingsContainer:"DataTable_settingsContainer__BsXy0",settingsTitle:"DataTable_settingsTitle__cX_TE",settingsRow:"DataTable_settingsRow__2fsZt",settingsActions:"DataTable_settingsActions__RVFbB",tableOverflow:"DataTable_tableOverflow__ZzYSe",tableContent:"DataTable_tableContent__3WQZU",rowStyle:"DataTable_rowStyle___qPTx",tableHeader:"DataTable_tableHeader__FzW2G",tableHeaderItem:"DataTable_tableHeaderItem__NgJYW",tableHeaderContent:"DataTable_tableHeaderContent__31frl",tablerHeaderItemLabel:"DataTable_tablerHeaderItemLabel__30ley",sortableIcons:"DataTable_sortableIcons__1bSW2",sortableIconActive:"DataTable_sortableIconActive__JiEzK",dragBorder:"DataTable_dragBorder__24MkG",tableRows:"DataTable_tableRows__3-R_T",tableRow:"DataTable_tableRow__1aP_n",tableRowItem:"DataTable_tableRowItem__1-f0f"}},kI6m:function(e,t,a){e.exports={button:"Button_button__zD4S2"}},lBOh:function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),r=a("rePB"),c=a("jrM3"),i=a.n(c),s=a("33Fu"),l=a("nKUr");function o(e){var t=e.onClick,a=e.value,n=e.initialState;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("input",{type:"checkbox",id:a,onChange:function(){t(a,!n)},checked:n}),Object(l.jsx)("label",{htmlFor:a,children:"Toggle"})]})}var b=a("kI6m"),d=a.n(b);function u(e){var t=e.text,a=e.onClick;return Object(l.jsx)("button",{className:d.a.button,onClick:a,children:t})}function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function f(e){var t={};return Object.keys(e).map((function(a){t[a]=h({},e[a])})),t}function O(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,n=[],r=t;r<a;r++)n.push(h({},e[r]));return n}function v(e){var t=e.tableData,a=e.tableHeaders,r=(e.overrideStyles,e.title),c=e.searchEnabled,s=e.searchBy,o=void 0===s?"":s,b=e.paginationEnabled,d=e.settingsEnabled,u=Object(n.useState)(0),j=u[0],h=u[1],v=Object(n.useState)(10),x=v[0],w=v[1],y=Object(n.useState)(!1),S=y[0],T=y[1],N=Object(n.useState)(f(a)),D=N[0],E=N[1],k=Object(n.useState)(O(t,0,x)),P=k[0],I=k[1];Object(n.useEffect)((function(){I(O(t,j*x,x))}),[t]),Object(n.useEffect)((function(){var e=j*x;I(O(t,e,e+x))}),[x,j]);c&&0==o.length&&(c=!1,alert("Please provide a search field"));var R,H,L=(R=function(e){var a,n=e.target.value;a=n.length>0?function(e,t,a){return e.filter((function(e){return e[t].toLowerCase().includes(a.toLowerCase())}))}(t,o,n):O(t,0,x),I(a)},H=500,function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];H&&clearTimeout(H),H=setTimeout((function(){R.apply(void 0,t)}),H)});return Object(l.jsxs)("div",{className:i.a.tableComponent,children:[Object(l.jsx)("div",{className:i.a.tableTitle,children:r}),Object(l.jsx)(p,{searchEnabled:c,settingsEnabled:d,searchBy:D[o].label,handleSearch:L,handleSettingsClick:function(){T(!S)}}),Object(l.jsxs)("div",{className:i.a.tableContainer,children:[Object(l.jsx)(g,{showSettings:S,tableHeader:D,setTableHeaderData:E,setShowSettings:T,resetSettings:function(){E(f(a))}}),Object(l.jsx)("div",{className:i.a.tableOverflow,children:Object(l.jsxs)("div",{className:i.a.tableContent,children:[Object(l.jsx)(_,{tableHeaders:D,handleSorting:function(e,t){console.log("sorting by",e,t);var a=[].concat(P).sort((function(a,n){return"asc"===t?n[e]>a[e]?1:-1:a[e]>n[e]?1:-1}));I(a)}}),Object(l.jsx)(C,{pageSize:x,currentPage:j,tableData:P,tableHeaders:D})]})}),b&&Object(l.jsx)(m,{pageSize:x,setPageSize:w,handlePageChange:function(e){if("prev"===e){if(0===j)return;h(j-1)}else if("next"===e){var a=Math.floor(t.length/x);if(j===a)return;h(j+1)}else"endLeft"===e?h(0):"endRight"===e&&h(Math.floor(t.length/x))},currentPage:j,totalContentLen:t.length})]})]})}function m(e){var t=e.pageSize,a=e.setPageSize,n=e.handlePageChange,r=e.currentPage,c=e.totalContentLen,o=(Math.floor(c/t),r*t),b=o+t;return b>c&&(b=c),Object(l.jsxs)("div",{className:i.a.paginationContainer,children:[Object(l.jsxs)("div",{className:i.a.paginationSizeContinaer,children:[Object(l.jsx)("span",{children:"Rows per page: "}),Object(l.jsx)("span",{children:Object(l.jsx)("select",{value:t,onChange:function(e){a(parseInt(e.target.value)),n("endLeft")},children:[10,15,20,25,30].map((function(e){return Object(l.jsx)("option",{value:e,children:e},e)}))})})]}),Object(l.jsx)("div",{className:i.a.currentContent,children:Object(l.jsxs)("p",{children:[o," - ",b," of ",c]})}),Object(l.jsxs)("div",{className:i.a.pagination,children:[Object(l.jsxs)("span",{className:"".concat(0===r&&i.a.deactive),children:[Object(l.jsx)("span",{onClick:function(){return n("endLeft")},children:Object(l.jsx)(s.g,{})}),Object(l.jsx)("span",{onClick:function(){return n("prev")},children:Object(l.jsx)(s.d,{})})]}),Object(l.jsxs)("span",{className:"".concat(b===c&&i.a.deactive),children:[Object(l.jsx)("span",{onClick:function(){return n("next")},children:Object(l.jsx)(s.e,{})}),Object(l.jsx)("span",{onClick:function(){return n("endRight")},children:Object(l.jsx)(s.f,{})})]})]})]})}function p(e){var t=e.searchEnabled,a=e.settingsEnabled,n=e.searchBy,r=e.handleSettingsClick,c=e.handleSearch;return Object(l.jsxs)("div",{className:i.a.tableControlsContainer,children:[Object(l.jsx)("div",{className:i.a.searchContainer,children:t&&Object(l.jsx)("input",{onChange:c,className:i.a.searchInput,type:"text",placeholder:"Searchby ".concat(n)})}),Object(l.jsx)("div",{className:i.a.tableSettings,children:a&&Object(l.jsx)(s.c,{onClick:r})})]})}function g(e){var t=e.showSettings,a=e.tableHeader,n=e.setTableHeaderData,r=e.setShowSettings,c=e.resetSettings,s=function(e,t){n((function(a){return a[e].visible=t,h({},a)}))};return Object(l.jsxs)("div",{className:"".concat(t?i.a.showSettings:"hide"," ").concat(i.a.settingsContainer),children:[Object(l.jsx)("div",{className:i.a.settingsTitle,children:"Settings"}),Object(l.jsx)("div",{className:i.a.settingsContent,children:Object.keys(a).map((function(e){return Object(l.jsxs)("div",{className:i.a.settingsRow,children:[Object(l.jsx)("div",{className:i.a.settingsLabel,children:a[e].label}),Object(l.jsx)(o,{value:e,onClick:s,initialState:a[e].visible})]},e)}))}),Object(l.jsxs)("div",{className:i.a.settingsActions,children:[Object(l.jsx)(u,{text:"Apply",onClick:function(){console.log("apply clicked"),r(!1)}}),Object(l.jsx)(u,{text:"Cancel",onClick:function(){c(),r(!1)}})]})]})}function _(e){var t=e.tableHeaders,a=e.handleSorting,r=Object(n.useState)(""),c=r[0],s=r[1],o=Object(n.useState)(""),b=o[0],d=o[1],u=[];return Object(l.jsx)("div",{className:"".concat(i.a.tableHeader," "),children:Object.keys(t).map((function(e,n){var r=t[e],i=r.label,o=r.minWidth,j=r.visible,h=r.sortable;return j&&Object(l.jsx)(x,{index:n,refs:u,handleSort:function(){return function(e){d(c===e&&"asc"===b?"desc":"asc"),s(e),a(e,b)}(e)},sorted:c===e,sortOrder:b,label:i,minWidth:o,sortable:h},e)}))})}var x=function(e){e.index,e.refs;var t=e.label,a=e.minWidth,r=e.sortable,c=e.handleSort,o=e.sorted,b=e.sortOrder,d=Object(n.useRef)(null),u=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e=function(e){if(u&&u.current){var t=e.pageX-u.current.getBoundingClientRect().left,a=parseInt(getComputedStyle(u.current,"").width)+t+"px";u.current.style.width=a}};if(d&&d.current){d.current.addEventListener("mousedown",(function(a){document.addEventListener("mousemove",e,!1),document.addEventListener("mouseup",t)}),!1);var t=function t(){document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)};return function(){d&&d.current&&d.current.removeEventListener("mousedown",e,!1)}}}),[]),Object(l.jsxs)("div",{id:t,style:{minWidth:a},className:i.a.tableHeaderItem,ref:u,children:[Object(l.jsxs)("div",{className:i.a.tableHeaderContent,onClick:c,children:[Object(l.jsx)("span",{className:i.a.tablerHeaderItemLabel,children:t}),r&&Object(l.jsxs)("span",{className:"".concat(i.a.sortableIcons," ").concat(o&&i.a.sortableIconActive),children:[o&&"asc"===b&&Object(l.jsx)(s.b,{}),o&&"desc"===b&&Object(l.jsx)(s.a,{}),!o&&Object(l.jsx)(s.b,{})]})]}),Object(l.jsx)("div",{className:i.a.dragBorder,ref:d})]},t)};function C(e){var t=e.tableHeaders,a=e.tableData;return Object(l.jsx)("div",{className:i.a.tableRows,children:a.map((function(e,a){return Object(l.jsx)("div",{className:"".concat(i.a.tableRow," ").concat(i.a.rowStyle),children:Object.keys(e).map((function(a){return t[a]&&t[a].visible&&Object(l.jsx)("div",{style:{minWidth:t[a].minWidth},className:i.a.tableRowItem,children:e[a]},a)||null}))},e.id)}))})}var w={title:{label:"Title",minWidth:150,visible:!0},year:{label:"Year",minWidth:50,sortable:!0,visible:!0},runtime:{label:"RunTime",minWidth:50,sortable:!0,visible:!0},director:{label:"Director",minWidth:100,sortable:!0,visible:!0}};function y(e){var t=Object(n.useState)([]),a=t[0],r=t[1];return Object(n.useEffect)((function(){fetch("/api/movies",{method:"GET",headers:{"x-rapidapi-host":"movie-database-imdb-alternative.p.rapidapi.com","x-rapidapi-key":"d9c87f999amshb4af30838481e71p1ea5f2jsnce1fbcd684a2"}}).then((function(e){return e.json()})).then((function(e){r(e)})).catch((function(e){console.error(e)}))}),[]),Object(l.jsx)("div",{style:{margin:"auto",width:"90%"},children:Object(l.jsx)(v,{title:"Data Table Example",tableHeaders:w,tableData:a,searchEnabled:!0,searchBy:"title",paginationEnabled:!0,settingsEnabled:!0})})}var S=a("5Yp1");t.default=function(){return Object(l.jsx)(S.a,{children:Object(l.jsx)(y,{})})}},qq0O:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/home/datatable",function(){return a("lBOh")}])},rePB:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"a",(function(){return n}))}},[["qq0O",0,2,5,1,3,4]]]);